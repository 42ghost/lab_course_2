<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="557" height="537"><desc>title%20Chat%0A%0AClient-%3EServer%3APOST%20chat.php%20(chat_id%2C%20username)%0AClient%3C--Server%3A200%20OK%0Anote%20over%20Client%2C%20Server%3A%D0%97%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%20%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%BE%D0%B2%20%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D0%B9%5Cn%D0%A0%D0%B0%D0%B7%20%D0%B2%202%20%D1%81%D0%B5%D0%BA%D1%83%D0%BD%D0%B4%D1%8B%20%D0%BF%D0%BE%D1%81%D1%8B%D0%BB%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%20get_message%20end%20note%0AClient-%3EServer%3A%20POST%20get_message.php%20(chat_id)%0AClient%3C--Server%3A%20200%20OK%20%2B%20JSON%0Anote%20over%20Client%2C%20Server%3A%20%D0%A1%D0%B5%D1%80%D0%B2%D0%B5%D1%80%20%D0%B2%D0%BE%D0%B7%D0%B2%D1%80%D0%B0%D1%89%D0%B0%D0%B5%D1%82%20%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA%20%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%B8%D0%BD%D0%B9%20%D0%B2%20%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B5%20JSON%5Cn%7B%5Cn%22author%22%3A%20%D0%B0%D0%B2%D1%82%D0%BE%D1%80%20%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D1%8F%5Cn%22chat_id%22%3A%20id%20%D1%82%D0%B5%D0%BA%D1%83%D1%89%D0%B5%D0%B3%D0%BE%20%D1%87%D0%B0%D1%82%D0%B0%5Cn%22date%22%3A%20%D0%92%D1%80%D0%B5%D0%BC%D1%8F%20%D0%BE%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B8%20%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D1%8F%5Cn%22text%22%3A%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%20%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D1%8F%5Cn%7D</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="557" height="537"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.82231583450243" y="22.6179738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Chat</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 45.149658982 88.511670804 L 45.149658982 537.855416964" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 509.1116394808281 88.511670804 L 509.1116394808281 537.855416964" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 47.799317964000004 L 82.759993364 47.799317964000004 L 82.759993364 88.511670804 L 7.5393246000000005 88.511670804 L 7.5393246000000005 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="23.899658982" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 468.6846375420654 47.799317964000004 L 549.5386414195908 47.799317964000004 L 549.5386414195908 88.511670804 L 468.6846375420654 88.511670804 L 468.6846375420654 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="485.0449719240654" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Server</text></g></g><g><g><g><rect fill="white" stroke="none" x="145.02719230551563" y="118.668969204" width="264.20691385179686" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="147.28898968551562" y="132.239753484" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST chat.php (chat_id, username)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 45.149658982 138.27121316400002 L 496.6968849728281 138.27121316400002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(509.1116394808281,138.27121316400002) translate(-509.1116394808281,-138.27121316400002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 496.5460984808281 131.98844266400002 L 509.1116394808281 138.27121316400002 L 496.5460984808281 144.55398366400001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="247.95218582053027" y="160.889186964" width="58.35692682176758" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="250.21398320053027" y="174.459971244" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">200 OK</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 509.1116394808281 180.491430924 L 57.56441349 180.491430924" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(45.149658982,180.491430924) translate(-45.149658982,-180.491430924)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 57.715199982 174.20866042400002 L 45.149658982 180.491430924 L 57.715199982 186.774201424 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 31.578874701999997 203.109404724 L 509.1116394808281 203.109404724 L 522.6824237608281 216.680189004 L 522.6824237608281 252.868947084 L 31.578874701999997 252.868947084 L 31.578874701999997 203.109404724 M 509.1116394808281 203.109404724 L 509.1116394808281 216.680189004 L 522.6824237608281 216.680189004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="52.68898358199999" y="224.219513604" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Запускается скрипт запросов сообщений</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="52.68898358199999" y="239.29816280400001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Раз в 2 секунды посылается запрос get_message end note</text></g><g><g><rect fill="white" stroke="none" x="153.72718162436328" y="275.486920884" width="246.80693521410157" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="155.98897900436327" y="289.057705164" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST get_message.php (chat_id)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 45.149658982 295.08916484400004 L 496.6968849728281 295.08916484400004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(509.1116394808281,295.08916484400004) translate(-509.1116394808281,-295.08916484400004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 496.5460984808281 288.806394344 L 509.1116394808281 295.08916484400004 L 496.5460984808281 301.37193534400006 Z"/></g></g><g><g><rect fill="white" stroke="none" x="219.0438510884746" y="317.70713864400005" width="116.1735962858789" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="221.3056484684746" y="331.2779229240001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">200 OK + JSON</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 509.1116394808281 337.30938260400006 L 57.56441349 337.30938260400006" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(45.149658982,337.30938260400006) translate(-45.149658982,-337.30938260400006)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 57.715199982 331.02661210400004 L 45.149658982 337.30938260400006 L 57.715199982 343.5921531040001 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 31.578874701999997 359.9273564040001 L 509.1116394808281 359.9273564040001 L 522.6824237608281 373.4981406840001 L 522.6824237608281 485.08014476400007 L 31.578874701999997 485.08014476400007 L 31.578874701999997 359.9273564040001 M 509.1116394808281 359.9273564040001 L 509.1116394808281 373.4981406840001 L 522.6824237608281 373.4981406840001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="62.43065228317187" y="381.03746528400006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Сервер возвращает список сообщеинй в формате JSON</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="62.43065228317187" y="396.11611448400004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">{</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="62.43065228317187" y="411.194763684" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">"author": автор сообщения</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="62.43065228317187" y="426.273412884" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">"chat_id": id текущего чата</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="62.43065228317187" y="441.35206208399995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">"date": Время отправки сообщения</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="62.43065228317187" y="456.4307112839999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">"text": текст сообщения</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="62.43065228317187" y="471.5093604839999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">}</text></g></g><g/><g/></g></svg>